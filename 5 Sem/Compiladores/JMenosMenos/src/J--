


options {

STATIC = false; // para desempenho - estático(somente uma compilacao) ou estanciado
DEBUG_PARSER = false; // depurar
IGNORE_CASE = true; // se true - nao diferencia a de A
UNICODE_INPUT = true; // se false - somente reconhece a tabela asci

}

PARSER_BEGIN(JMenos)
import java.util.*;
import java.io.File;
import java.io.FileInputStream;
public class JMenos {
    	ArrayList<Simbolo> tab = new ArrayList<Simbolo>();
   public static void main(String[] args) {
        
        try {			
		JMenos parser = new JMenos(new FileInputStream(new File((String)args[0])));
		parser.I();
		System.out.println("Reconheceu!");
    	} catch (Exception ex) {
            ex.printStackTrace();
        }      
     }
    
}


class Simbolo{
	public String nome;
	public int valor;
}
PARSER_END(JMenos)



TOKEN:
{
	
	
	< TEXTO: (["a" - "z"])+>|
	< NUM: (["0" - "9"])+>|
	< AC: "{">|
	< DC: "}">|
	< CLASS: "$">|
	< METHOD: "#">|	
	< MAE: "mae">|
	< IMPRIME: "imprime" > |
	< LER: "ler">
}

//o que o programa deve ignorar    
SKIP: {
	" "|
	"\t"
}  


void I():
{
// DeclaraçÃo de variáveis auxiliares
	String res;
}
{
	//corpo do i
 	<CLASS><TEXTO>{
 		System.out.println();
 		System.out.println("public class " + token.image);
 		System.out.println();
 	}
 	<AC>{
 		System.out.println("{");
 		}
 	res=S() 
 	<DC>{
 	 	System.out.println(res);
 	 	System.out.println("}");
 	}
}
String S():{
	
}
{
	<TEXTO>{return token.image;}
}

